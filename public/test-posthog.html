<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test PostHog Tracking</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .log { background: #f5f5f5; padding: 10px; margin: 5px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        button { padding: 10px 20px; margin: 5px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>
    <h1>ðŸ§ª Test de Tracking PostHog</h1>
    
    <div id="logs"></div>
    
    <button onclick="testPageView()">Test Page View</button>
    <button onclick="testCustomEvent()">Test Custom Event</button>
    <button onclick="testIdentification()">Test Identification</button>
    <button onclick="clearLogs()">Clear Logs</button>
    
    <script>
        // Charger PostHog
        !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p,t.createElement("script")),p.async=1,p.src=s.slice(0,1)+"static.posthog.com/static/analytics.js",r=t.getElementsByTagName("script")[0],r.parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=e[a]||[]:u="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people set people.set_once unset increment append prepend on once off".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
        posthog.init('phx_16UGkkbwQJC6o6g80K4ehfInnYw3ZvBAt2T4xgPodC9rAH2w', {
            api_host: 'https://us.i.posthog.com',
            loaded: function(posthog) {
                addLog('PostHog chargÃ© avec succÃ¨s', 'success');
            }
        });
        
        function addLog(message, type = 'info') {
            const logs = document.getElementById('logs');
            const log = document.createElement('div');
            log.className = `log ${type}`;
            log.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logs.appendChild(log);
            console.log(message);
        }
        
        function testPageView() {
            addLog('Envoi d\'un Ã©vÃ©nement page view...', 'info');
            posthog.capture('$pageview', {
                path: '/test-posthog',
                title: 'Test PostHog Tracking'
            });
            addLog('âœ… Page view envoyÃ©', 'success');
        }
        
        function testCustomEvent() {
            addLog('Envoi d\'un Ã©vÃ©nement custom...', 'info');
            posthog.capture('test_button_clicked', {
                button_name: 'Test Custom Event',
                timestamp: new Date().toISOString()
            });
            addLog('âœ… Ã‰vÃ©nement custom envoyÃ©', 'success');
        }
        
        function testIdentification() {
            addLog('Test d\'identification utilisateur...', 'info');
            posthog.identify('test_user_123', {
                email: 'test@example.com',
                name: 'Test User'
            });
            addLog('âœ… Utilisateur identifiÃ©', 'success');
        }
        
        function clearLogs() {
            document.getElementById('logs').innerHTML = '';
        }
        
        // Auto-test au chargement
        window.onload = function() {
            addLog('Page de test chargÃ©e', 'info');
            testPageView();
        };
    </script>
</body>
</html>